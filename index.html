<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoD INTEL</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-main: #e0e0e0;
            --text-muted: #a0a0a0;
            --accent-color: #00d4ff; /* Intel Blue */
            --border-color: #333;
            --r5-color: #ffd700; /* Gold */
            --r4-color: #c0c0c0; /* Silver */
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* Header Styling */
        header {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 30px;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            margin: 0;
            letter-spacing: 4px;
            color: var(--accent-color);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 5px;
        }

        /* Container */
        .container {
            width: 90%;
            max-width: 1000px;
        }

        /* Search Bar */
        .search-wrapper {
            margin-bottom: 30px;
            width: 100%;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-main);
            font-family: 'Roboto Mono', monospace;
            font-size: 1.1rem;
            box-sizing: border-box;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        /* Breadcrumb / Back Button */
        #nav-controls {
            margin-bottom: 20px;
            display: none; /* Hidden by default */
        }

        .btn-back {
            background: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 4px;
            font-family: 'Orbitron', sans-serif;
        }

        .btn-back:hover {
            background: rgba(0, 212, 255, 0.1);
        }

        /* Grid for Alliance Cards */
        .alliance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .alliance-card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
        }

        .alliance-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
        }

        .alliance-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .alliance-count {
            margin-top: 10px;
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        /* Player Table */
        .table-container {
            width: 100%;
            overflow-x: auto;
            display: none; /* Hidden by default */
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: #252525;
            color: var(--accent-color);
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        tr:hover {
            background-color: #2a2a2a;
        }

        /* Rank Styling */
        .rank-badge {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
            background: #333;
            font-size: 0.8rem;
        }
        
        .rank-R5 { color: var(--r5-color); border: 1px solid var(--r5-color); background: rgba(255, 215, 0, 0.1); }
        .rank-R4 { color: var(--r4-color); border: 1px solid var(--r4-color); background: rgba(192, 192, 192, 0.1); }
        .rank-R3, .rank-R2, .rank-R1 { color: var(--text-muted); }

        /* Utility */
        .hidden { display: none !important; }
        .visible { display: block !important; }
        .grid-visible { display: grid !important; }

        .no-results {
            text-align: center;
            padding: 40px;
            color: var(--text-muted);
        }

    </style>
</head>
<body>

    <header>
        <h1>LoD INTEL</h1>
        <div class="subtitle">ALLIANCE DATABASE SYSTEM</div>
    </header>

    <div class="container">
        <div class="search-wrapper">
            <input type="text" id="searchInput" placeholder="Search by ID, Name, or Alliance...">
        </div>

        <div id="nav-controls">
            <button class="btn-back" onclick="resetView()">← BACK TO ALLIANCES</button>
            <span id="current-view-title" style="margin-left: 15px; color: var(--accent-color); font-weight: bold;"></span>
        </div>

        <div id="alliance-list" class="alliance-grid">
            </div>

        <div id="player-list" class="table-container">
            <table>
                <thead>
                    <tr>
                        <th style="width: 15%">Rank</th>
                        <th style="width: 20%">Alliance</th>
                        <th style="width: 40%">Name</th>
                        <th style="width: 25%">ID</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    </tbody>
            </table>
            <div id="no-results-msg" class="no-results hidden">No matching intelligence found.</div>
        </div>
    </div>

    <script>
        // ==========================================
        // 1. DATA CONFIGURATION (EDIT THIS SECTION)
        // ==========================================
        
        // Dictionary format: "AllianceName": [Array of players]
        const allianceDatabase = {
         "HNR": [
    {
        "name": "[HNR]Emperorr",
        "id": "184389249",
        "rank": "R5"
    },
    {
        "name": "[HNR]十月巴奚佳奚佳",
        "id": "183111263",
        "rank": "R4"
    },
    {
        "name": "[HNR]Angel",
        "id": "181570961",
        "rank": "R4"
    },
    {
        "name": "[HNR]༺༒米分女敕女未༒༻",
        "id": "182800111",
        "rank": "R4"
    },
    {
        "name": "[HNR]Charizard",
        "id": "181668800",
        "rank": "R4"
    },
    {
        "name": "[HNR]Cr33pingD3ath84",
        "id": "180718736",
        "rank": "R4"
    },
    {
        "name": "[HNR]ELIT3",
        "id": "183242478",
        "rank": "R4"
    },
    {
        "name": "[HNR] Sayed §賽義德/",
        "id": "181537921",
        "rank": "R4"
    },
    {
        "name": "[HNR]Donkeyshhhhh",
        "id": "182734498",
        "rank": "R4"
    },
    {
        "name": "[HNR] Faker",
        "id": "181014042",
        "rank": "R3"
    },
    {
        "name": "[HNR]Ccsu -> ༺༒走召糸及手分手༒༻",
        "id": "182357517",
        "rank": "R3"
    },
    {
        "name": "[HNR]meow",
        "id": "184323227",
        "rank": "R3"
    },
    {
        "name": "[HNR]YZ硕",
        "id": "183881370",
        "rank": "R3"
    },
    {
        "name": "[HNR]女子木奉木奉",
        "id": "183029333",
        "rank": "R3"
    },
    {
        "name": "[HNR]KRNKOF",
        "id": "181587657",
        "rank": "R3"
    },
    {
        "name": "[HNR]Erick",
        "id": "183651845",
        "rank": "R3"
    },
    {
        "name": "[HNR]Heisemberg",
        "id": "182193250",
        "rank": "R3"
    },
    {
        "name": "[HNR]Raichu",
        "id": "183750020",
        "rank": "R3"
    },
    {
        "name": "[HNR]TABB",
        "id": "180440905",
        "rank": "R3"
    },
    {
        "name": "[HNR]benjo",
        "id": "183127451",
        "rank": "R3"
    },
    {
        "name": "[HNR]BJMac",
        "id": "183733710",
        "rank": "R3"
    },
    {
        "name": "[HNR]Aldap sikkish",
        "id": "180980944",
        "rank": "R3"
    },
    {
        "name": "[HNR]Chadimus",
        "id": "184520200",
        "rank": "R3"
    },
    {
        "name": "[HNR]Ignacious",
        "id": "183635187",
        "rank": "R3"
    },
    {
        "name": "[HNR]Briard",
        "id": "182111463",
        "rank": "R3"
    },
    {
        "name": "[HNR]人間比特犬",
        "id": "180407694",
        "rank": "R3"
    },
    {
        "name": "[HNR]Mo_CA",
        "id": "182389808",
        "rank": "R3"
    },
    {
        "name": "[HNR]CptJackSparow",
        "id": "183831727",
        "rank": "R3"
    },
    {
        "name": "[HNR]Lothar",
        "id": "181799833",
        "rank": "R3"
    },
    {
        "name": "[HNR]GLENROTHES",
        "id": "180899416",
        "rank": "R3"
    },
    {
        "name": "[HNR]SessaBR",
        "id": "182734372",
        "rank": "R3"
    },
    {
        "name": "[HNR]ARYAA",
        "id": "184389342",
        "rank": "R3"
    },
    {
        "name": "[HNR]JELLY",
        "id": "181407434",
        "rank": "R3"
    },
    {
        "name": "[HNR]Kulrath",
        "id": "181751235",
        "rank": "R3"
    },
    {
        "name": "[HNR]Alabaster",
        "id": "183979548",
        "rank": "R3"
    },
    {
        "name": "[HNR]Lydia",
        "id": "182865615",
        "rank": "R3"
    },
    {
        "name": "[HNR]Cem",
        "id": "183258874",
        "rank": "R3"
    },
    {
        "name": "[HNR]Annai",
        "id": "183700444",
        "rank": "R3"
    },
    {
        "name": "[HNR]Apostoloi",
        "id": "183733788",
        "rank": "R3"
    },
    {
        "name": "Guardian Waltz (ex HNR)",
        "id": "183438727",
        "rank": "R3"
    },
    {
        "name": "[HNR]Chifuyu",
        "id": "182422957",
        "rank": "R3"
    },
    {
        "name": "[HNR]Juliet",
        "id": "184306689",
        "rank": "R3"
    },
    {
        "name": "[HNR]Kong",
        "id": "180866106",
        "rank": "R3"
    },
    {
        "name": "[HNR]MertKaya",
        "id": "182012957",
        "rank": "R3"
    },
    {
        "name": "[HNR]ZynChroMaTiK",
        "id": "181456424",
        "rank": "R3"
    },
    {
        "name": "[HNR]MajorBasar",
        "id": "182455999",
        "rank": "R3"
    },
    {
        "name": "[HNR]Tbrian",
        "id": "182521073",
        "rank": "R2"
    },
    {
        "name": "[HNR] Doug Dimmadome",
        "id": "183979435",
        "rank": "R2"
    },
    {
        "name": "[HNR]Jase",
        "id": "182537847",
        "rank": "R2"
    },
    {
        "name": "[HNR]MacUP",
        "id": "182423253",
        "rank": "R2"
    },
    {
        "name": "[HNR]Tomi",
        "id": "181734398",
        "rank": "R1"
    },
    {
        "name": "[HNR]Kingwangjjang",
        "id": "180997630",
        "rank": "R1"
    },
    {
        "name": "[HNR]Magda",
        "id": "180538443",
        "rank": "R1"
    },
    {
        "name": "[HNR]乂軒小乂",
        "id": "181407421",
        "rank": "R1"
    },
    {
        "name": "[HNR] Klabauter",
        "id": "181063594",
        "rank": "R1"
    },
    {
        "name": "[HNR]MrHammers",
        "id": "183701116",
        "rank": "R1"
    },
    {
        "name": "[HNR]Dukarth",
        "id": "181997108",
        "rank": "R1"
    },
    {
        "name": "[HNR]Yuvraj",
        "id": "182357237",
        "rank": "R1"
    },
    {
        "name":"[HNR]Jacky Wong",
        "id": "184143485",
        "rank":"R2"
    },
    {
        "name": "[HNR]MrBrit",
        "id": "182570547",
        "rank": "R1"
    },
    {
        "name": "[HNR]SurgeonSLICE",
        "id": "181996619",
        "rank": "R1"
    },
    {
        "name": "[HNR]Oliwia",
        "id": "180358403",
        "rank": "R1"
    },
    {
        "name": "[HNR]Claude",
        "id": "183963367",
        "rank": "R1"
    },
    {
        "name": "[HNR]Emilia",
        "id": "182734028",
        "rank": "R1"
    },
    {
        "name": "[HNR]SUMIN",
        "id": "183193182",
        "rank": "R1"
    },
    {
        "name": "[HNR]Dumpling",
        "id": "184028676",
        "rank": "R1"
    },
    {
        "name": "[HNR]NMD",
        "id": "183569990",
        "rank": "R1"
    },
    {
        "name": "[HNR]Fitzy",
        "id": "181276467",
        "rank": "R1"
    },
    {
        "name": "[HNR] Room Shambles",
        "id": "181030396",
        "rank": "R1"
    },
    {
        "name": "[HNR]高雄小安",
        "id": "184209307",
        "rank": "R1"
    },
    {
        "name": "[HNR]Trina",
        "id": "184045015",
        "rank": "R1"
    },
    {
        "name": "[HNR]Jiake",
        "id": "182259555",
        "rank": "R1"
    },
    {
        "name": "[HNR]Kaik",
        "id": "182308409",
        "rank": "R1"
    },
    {
        "name": "[HNR]Kevinody79",
        "id": "182456074",
        "rank": "R1"
    },
    {
        "name": "[HNR]MR SAНТООТ",
        "id": "181865563",
        "rank": "R2"
    },
    {
        "name": "[HNR]Spock",
        "id": "182569983",
        "rank": "R2"
    },
    {
        "name": "Xalion (ex HNR)",
        "id": "181341572",
        "rank": "R1"
    },
    {
        "name": "[HNR]LORD_MEDO",
        "id": "180555073",
        "rank": "R1"
    },
    {
        "name": "[HNR]Modyhany 123",
        "id": "182324223",
        "rank": "R2"
    },
    {
        "name": "[HNR]siritoFr",
        "id": "180588403",
        "rank": "R2"
    },
    {
        "name": "[HNR]十口乞女子口易女子十",
        "id": "180670090",
        "rank": "R2"
    },
    {
        "name": "[HNR]Marty",
        "id": "181128787",
        "rank": "R2"
    },
    {
        "name": "[HNR]neutronique 01",
        "id": "182111575",
        "rank": "R2"
    },

    {
        "name": "[HNR]야미야미",
        "id": "182144615",
        "rank": "R2"
    },
    {
        "name": "[HNR] Anderson",
        "id": "182062307",
        "rank": "R2"
    },
    {
        "name": "[HNR]Ersoy1453",
        "id": "182160799",
        "rank": "R2"
    },
    {
        "name": "[HNR]Koal",
        "id": "182816110",
        "rank": "R2"
    },
    {
        "name": "[HNR]Weedo",
        "id": "181522080",
        "rank": "R2"
    },
    {
        "name": "[HNR]Nunes",
        "id": "182390188",
        "rank": "R2"
    },
    {
        "name": "[HNR]BrilliantApollo",
        "id": "184110668",
        "rank": "R2"
    },
    {
        "name": "[HNR]Djulinette",
        "id": "184306668",
        "rank": "R2"
    },
        {
        "name": "[HNR]Pugsley",
        "id": "184176072",
        "rank": "R1"
    },
    {
        "name": "[HNR]Lord Fyah",
        "id": "180407901",
        "rank": "R1"
    },
        {
        "name": "[HNR]Badi",
        "id": "182029229",
        "rank": "R1"
    },
    {
        "name": "[HNR]ArtOfWar",
        "id": "184175581",
        "rank": "R1"
    },
       {
        "name": "[HNR]HunDaGun951",
        "id": "181308991",
        "rank": "R1"
    },
    {
        "name": "[HNR]bexxi66",
        "id": "184503420",
        "rank": "R1"
    },
     {
        "name": "[HNR]RiikinhoO",
        "id": "181980628",
        "rank": "R1"
    },
     {
        "name": "[HNR]شنب",
        "id": "184224931",
        "rank": "R1"
    },
    {
        "name": "[HNR]CptOblivious",
        "id": "183717109",
        "rank": "R1"
    }
        ],
 "END": [
    {
        "name": "[END] Venti Sad",
        "id": "183619129",
        "rank": "R5"
    },
    {
        "name": "[END]zzzambiesss",
        "id": "182652576",
        "rank": "R4"
    },
    {
        "name": "[END] Vengeance ツ ",
        "id": "183782727",
        "rank": "R4"
    },
    {
        "name": "[END]NV_DR_HOLT",
        "id": "183176693",
        "rank": "R4"
    },
    {
        "name": "[END]IOWA ",
        "id": "184487243",
        "rank": "R4"
    },
        {
        "name": "[END]ForeignDiplomat ",
        "id": "183504621",
        "rank": "R4"
    },
    {
        "name": "[END]ēnnifer ",
        "id": "183700603",
        "rank": "R4"
    },
    {
        "name": "[END] Faceofboe ",
        "id": "184405838",
        "rank": "R4"
    },
    {
        "name": "[END] Rozovy ",
        "id": "181456132",
        "rank": "R4"
    },
    {
        "name": "[END] Sinon ",
        "id": "181063167",
        "rank": "R4"
    },
    {
        "name": "[END] JustmeOJ",
        "id": "183700651",
        "rank": "R3"
    },
    {
        "name": "[END] Lord GoKu",
        "id": "181538325",
        "rank": "R3"
    },
    {
        "name": "[END] Iron Tusk",
        "id": "181734942",
        "rank": "R3"
    },
    {
        "name": "[END] Old Monster",
        "id": "182980249",
        "rank": "R3"
    },
    {
        "name": "[END]SgtMarko",
        "id": "183389697",
        "rank": "R3"
    },
    {
        "name": "[END] Kkkmm",
        "id": "183716867",
        "rank": "R3"
    },
    {
        "name": "[END] JoeMax2288",
        "id": "181259930",
        "rank": "R3"
    },
    {
        "name": "[END] Bill The Heretic",
        "id": "183291408",
        "rank": "R3"
    },
    {
        "name": "[END]xRoyal Flushx",
        "id": "181276379",
        "rank": "R3"
    },
    {
        "name": "[END]JD10",
        "id": "183979417",
        "rank": "R3"
    },
    {
        "name": "[END] Princess",
        "id": "183587645",
        "rank": "R3"
    },
    {
        "name": "[END] Uncutglory",
        "id": "181014185",
        "rank": "R3"
    },
    {
        "name": "[END] Xandrago",
        "id": "181308744",
        "rank": "R3"
    },
    {
        "name": "[END] Robbo",
        "id": "181063088",
        "rank": "R3"
    },
    {
        "name": "[END] manda",
        "id": "182848805",
        "rank": "R3"
    },
    {
        "name": "[END] Kayserin",
        "id": "183258512",
        "rank": "R3"
    },
    {
        "name": "[END]Avery",
        "id": "180621472",
        "rank": "R3"
    },
    {
        "name": "[END] MrRight",
        "id": "184307653",
        "rank": "R3"
    },
    {
        "name": "[END]L Joker Thunder",
        "id": "184126848",
        "rank": "R3"
    },
    {
        "name": "[END] Youngmaster",
        "id": "184536518",
        "rank": "R3"
    },
    {
        "name": "[END]Katerm",
        "id": "180505922",
        "rank": "R3"
    },
    {
        "name": "[END]Buzzard",
        "id": "186674313",
        "rank": "R3"
    },
    {
        "name": "[END]luu",
        "id": "181521668",
        "rank": "R3"
    },
    {
        "name": "[END]Corkdork",
        "id": "182652186",
        "rank": "R3"
    },
    {
        "name": "[END]Mike Ton",
        "id": "180375036",
        "rank": "R3"
    },
    {
        "name": "[END] --13lackhole-800",
        "id": "184356332",
        "rank": "R3"
    },
    {
        "name": "[END]ShootzDen",
        "id": "181505152",
        "rank": "R3"
    },
    {
        "name": "[END] Liquid Snake",
        "id": "184974210",
        "rank": "R3"
    },
    {
        "name": "[END]ProbablyIOWA",
        "id": "184879409",
        "rank": "R3"
    },
    {
        "name": "[END]SgtRuby",
        "id": "191575889",
        "rank": "R3"
    },
     {
        "name": "[END]Jalaludin Rumi",
        "id": "182700970",
        "rank": "R2"
    },
    {
        "name": "[END]Teetopnd",
        "id": "182078821",
        "rank": "R2"
    },
    {
        "name": "[END]Mind3pin",
        "id": "181227000",
        "rank": "R2"
    },
    {
        "name": "[END] Mima",
        "id": "183225413",
        "rank": "R2"
    },
    {
        "name": "[END] Grumbledore",
        "id": "183029215",
        "rank": "R2"
    },
    {
        "name": "[END]Chade TaVu",
        "id": "181964601",
        "rank": "R2"
    },
    {
        "name": "[END] Bloodspill",
        "id": "181931332",
        "rank": "R2"
    },
    {
        "name": "[END] Marcelo",
        "id": "182849045",
        "rank": "R2"
    },
    {
        "name": "[END] Mumblehumble",
        "id": "182504691",
        "rank": "R2"
    },
    {
        "name": "[END]Paps",
        "id": "183029135",
        "rank": "R2"
    },
    {
        "name": "[END] Neo",
        "id": "184339918",
        "rank": "R2"
    },
    {
        "name": "[END] MajorKerplunkage ...",
        "id": "181423309",
        "rank": "R2"
    },
    {
        "name": "[END] Itachi",
        "id": "183765986",
        "rank": "R2"
    },
    {
        "name": "[END] Tennant",
        "id": "182226758",
        "rank": "R2"
    },
    {
        "name": "[END]gemy",
        "id": "183848400",
        "rank": "R2"
    },
    {
        "name": "[END] Julie la louve",
        "id": "184209057",
        "rank": "R2"
    },
    {
        "name": "[END] papajo",
        "id": "183209631",
        "rank": "R2"
    },
    {
        "name": "[END] Ralf rr",
        "id": "183799336",
        "rank": "R2"
    },
    {
        "name": "[END] Johner Bigstuff",
        "id": "181702115",
        "rank": "R2"
    },
    {
        "name": "[END]Banchan",
        "id": "184883915",
        "rank": "R2"
    },
    {
        "name": "[END]DG da Pavuna",
        "id": "180801144",
        "rank": "R2"
    },
    {
        "name": "[END]mizu",
        "id": "182291560",
        "rank": "R2"
    },
    {
        "name": "[END] Kaled96",
        "id": "182652798",
        "rank": "R2"
    },
    {
        "name": "akantidote (ex END)",
        "id": "183652295",
        "rank": "R1"
    },
    {
        "name": "[END] Most Hated",
        "id": "181866101",
        "rank": "R2"
    },
    {
        "name": "[END] Redhot80",
        "id": "183438818",
        "rank": "R2"
    },
    {
        "name": "[END] Belen",
        "id": "183979500",
        "rank": "R2"
    },
    {
        "name": "[END]soheilthe king",
        "id": "182733756",
        "rank": "R2"
    },
    {
        "name": "[END] Bass Compressor",
        "id": "183045335",
        "rank": "R2"
    },
    {
        "name": "[END]SgtSaphire",
        "id": "181627998",
        "rank": "R2"
    },
    {
        "name": "[END] Aoffinakaaa",
        "id": "184389043",
        "rank": "R2"
    },
    {
        "name": "[END] Playghost3",
        "id": "181735061",
        "rank": "R2"
    },
    {
        "name": "[END] OPía Véio",
        "id": "182111689",
        "rank": "R2"
    },
    {
        "name": "[END]steirl",
        "id": "181276134",
        "rank": "R2"
    },
    {
        "name": "[END] Quicker",
        "id": "182504580",
        "rank": "R2"
    },
    {
        "name": "[END] Voryn",
        "id": "183111275",
        "rank": "R2"
    },
    {
        "name": "[END]Star",
        "id": "183913647",
        "rank": "R2"
    },
    {
        "name": "[END] GuiPadalecki",
        "id": "184093592",
        "rank": "R2"
    },
    {
        "name": "[END] Dream",
        "id": "194024239",
        "rank": "R2"
    },
    {
        "name": "[END]turjea fire",
        "id": "184127081",
        "rank": "R1"
    },
    {
        "name": "[END]Wolfpig",
        "id": "181194210",
        "rank": "R1"
    },
    {
        "name": "[END]ClipsbyDW_YT",
        "id": "182717522",
        "rank": "R1"
    },
    {
        "name": "[END] ShadowStorm",
        "id": "180850252",
        "rank": "R1"
    }
            ],
"EC1": [
         { 
         "name": "[EC1]WhyCLydeWhy", 
         id: "183766532", 
         rank: "R5" 
        },
            ],
             "LoD": [

            ]
        };

        // ==========================================
        // 2. LOGIC (DO NOT TOUCH UNLESS NECESSARY)
        // ==========================================

        const allianceListEl = document.getElementById('alliance-list');
        const playerListEl = document.getElementById('player-list');
        const tableBodyEl = document.getElementById('table-body');
        const navControlsEl = document.getElementById('nav-controls');
        const currentViewTitleEl = document.getElementById('current-view-title');
        const searchInput = document.getElementById('searchInput');
        const noResultsMsg = document.getElementById('no-results-msg');

        // Helper to convert Rank string to Number for sorting
        const getRankValue = (rankStr) => {
            const map = { 'R5': 5, 'R4': 4, 'R3': 3, 'R2': 2, 'R1': 1 };
            return map[rankStr.toUpperCase()] || 0;
        };

        // Initialize view
        function init() {
            renderAllianceCards();
        }

        // Render the main grid of Alliances
        function renderAllianceCards() {
            allianceListEl.innerHTML = '';
            
            Object.keys(allianceDatabase).forEach(key => {
                const count = allianceDatabase[key].length;
                const card = document.createElement('div');
                card.className = 'alliance-card';
                card.onclick = () => showAlliancePlayers(key);
                card.innerHTML = `
                    <div class="alliance-name">${key}</div>
                    <div class="alliance-count">${count} Players</div>
                `;
                allianceListEl.appendChild(card);
            });
        }

        // Display Table for a specific Alliance
        function showAlliancePlayers(allianceName) {
            // 1. Get players
            let players = allianceDatabase[allianceName];
            
            // 2. Sort by Rank
            players.sort((a, b) => getRankValue(b.rank) - getRankValue(a.rank));

            // 3. Render
            renderTable(players, allianceName);

            // 4. Update UI state
            allianceListEl.classList.remove('grid-visible');
            allianceListEl.classList.add('hidden');
            playerListEl.classList.add('visible');
            navControlsEl.style.display = 'block';
            currentViewTitleEl.innerText = `// ${allianceName} ROSTER`;
        }

        // Display Search Results (Global)
        function handleSearch(query) {
            const cleanQuery = query.toLowerCase().trim();

            if (cleanQuery === "") {
                resetView();
                return;
            }

            // Flatten all data into one array for searching
            let allPlayers = [];
            Object.keys(allianceDatabase).forEach(alliance => {
                const playersWithTag = allianceDatabase[alliance].map(p => ({...p, allianceName: alliance}));
                allPlayers = allPlayers.concat(playersWithTag);
            });

            // Filter
            const results = allPlayers.filter(p => 
                p.name.toLowerCase().includes(cleanQuery) || 
                p.id.includes(cleanQuery) ||
                p.allianceName.toLowerCase().includes(cleanQuery)
            );

            // Sort
            results.sort((a, b) => getRankValue(b.rank) - getRankValue(a.rank));

            // Render
            renderTable(results, null); // Null alliance name triggers "Search Results" mode

            // UI State
            allianceListEl.classList.add('hidden');
            allianceListEl.classList.remove('grid-visible');
            playerListEl.classList.add('visible');
            navControlsEl.style.display = 'block';
            currentViewTitleEl.innerText = `// SEARCH RESULTS`;
        }

        // Generic Table Renderer
        function renderTable(players, fixedAllianceName) {
            tableBodyEl.innerHTML = '';
            
            if (players.length === 0) {
                noResultsMsg.classList.remove('hidden');
            } else {
                noResultsMsg.classList.add('hidden');
                players.forEach(p => {
                    const row = document.createElement('tr');
                    // Use fixed name if provided (specific alliance view), else use player's property (search view)
                    const dispAlliance = fixedAllianceName || p.allianceName; 
                    
                    row.innerHTML = `
                        <td><span class="rank-badge rank-${p.rank}">${p.rank}</span></td>
                        <td>${dispAlliance}</td>
                        <td>${p.name}</td>
                        <td>${p.id}</td>
                    `;
                    tableBodyEl.appendChild(row);
                });
            }
        }

        // Reset to Main Menu
        function resetView() {
            allianceListEl.classList.remove('hidden');
            allianceListEl.classList.add('grid-visible');
            playerListEl.classList.remove('visible');
            navControlsEl.style.display = 'none';
            searchInput.value = ''; // Clear search
        }

        // Event Listeners
        searchInput.addEventListener('input', (e) => {
            handleSearch(e.target.value);
        });

        // Start
        init();

    </script>
</body>
</html>
